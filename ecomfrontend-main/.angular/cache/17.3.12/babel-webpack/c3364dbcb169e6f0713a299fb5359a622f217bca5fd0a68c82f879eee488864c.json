{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/product.service\";\nimport * as i2 from \"../image-processing.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/grid-list\";\nfunction HomeComponent_mat_grid_tile_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-tile\")(1, \"div\", 7)(2, \"div\", 8)(3, \"div\", 9);\n    i0.ɵɵelement(4, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 11)(6, \"p\", 12)(7, \"b\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\", 13);\n    i0.ɵɵtext(10, \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos sed eaque molestias iste repudiandae in quos distinctio rem excepturi expedita incidunt, doloremque id sequi perferendis ipsum. Maxime ad iste eius. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 14)(12, \"b\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" \\u00A0 \");\n    i0.ɵɵelementStart(15, \"b\", 15);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_mat_grid_tile_9_Template_button_click_18_listener() {\n      const p_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.showProductDetails(p_r4.productId));\n    });\n    i0.ɵɵtext(19, \"View Details\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const p_r4 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", p_r4.productImages[0].url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(p_r4.productName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Rs. \", p_r4.productDiscountedPrice, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r4.productActualPrice);\n  }\n}\nfunction HomeComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loadMoreProduct());\n    });\n    i0.ɵɵtext(2, \"Load more\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(productService, imageProcessingService, router) {\n      this.productService = productService;\n      this.imageProcessingService = imageProcessingService;\n      this.router = router;\n      this.pageNumber = 0;\n      this.productDetails = [];\n      this.showLoadButton = false;\n    }\n    ngOnInit() {\n      this.getAllProducts();\n    }\n    searchByKeyword(searchkeyword) {\n      console.log(searchkeyword);\n      this.pageNumber = 0;\n      this.productDetails = [];\n      this.getAllProducts(searchkeyword);\n    }\n    getAllProducts(searchKey = \"\") {\n      this.productService.getAllProducts(this.pageNumber, searchKey).pipe(map((x, i) => x.map(product => this.imageProcessingService.createImages(product)))).subscribe(resp => {\n        console.log(resp);\n        if (resp.length == 12) {\n          this.showLoadButton = true;\n        } else {\n          this.showLoadButton = false;\n        }\n        resp.forEach(p => this.productDetails.push(p));\n      }, error => {\n        console.log(error);\n      });\n    }\n    loadMoreProduct() {\n      this.pageNumber = this.pageNumber + 1;\n      this.getAllProducts();\n    }\n    showProductDetails(productId) {\n      this.router.navigate(['/productViewDetails', {\n        productId: productId\n      }]);\n    }\n    static {\n      this.ɵfac = function HomeComponent_Factory(t) {\n        return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ImageProcessingService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HomeComponent,\n        selectors: [[\"app-home\"]],\n        decls: 11,\n        vars: 2,\n        consts: [[\"searchkeyword\", \"\"], [1, \"container\", \"mt-5\"], [\"appearance\", \"outline\", 1, \"w-100\"], [\"matInput\", \"\", \"name\", \"searchKey\", \"id\", \"searchKey\", \"placeholder\", \"Search any product\", 3, \"keyup\"], [\"cols\", \"4\", \"rowHeight\", \"3:5\", \"gutterSize\", \"10\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center mt-5\", \"style\", \"padding-bottom: 100px;\", 4, \"ngIf\"], [1, \"product-container\"], [1, \"product-box\"], [1, \"image-container\"], [\"alt\", \"\", 1, \"home-page-product-image\", 3, \"src\"], [1, \"product-info\"], [1, \"product-title\"], [1, \"product-description\", 2, \"white-space\", \"inherit\", \"height\", \"40px\", \"width\", \"288px\", \"overflow\", \"hidden\", \"text-overflow\", \"ellipsis\"], [1, \"product-price\"], [1, \"strikethrough\"], [1, \"view-details-button\"], [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [1, \"text-center\", \"mt-5\", 2, \"padding-bottom\", \"100px\"], [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"]],\n        template: function HomeComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"mat-form-field\", 2)(2, \"mat-label\");\n            i0.ɵɵtext(3, \"Search any product\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"input\", 3, 0);\n            i0.ɵɵlistener(\"keyup\", function HomeComponent_Template_input_keyup_4_listener() {\n              i0.ɵɵrestoreView(_r1);\n              const searchkeyword_r2 = i0.ɵɵreference(5);\n              return i0.ɵɵresetView(ctx.searchByKeyword(searchkeyword_r2.value));\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"mat-hint\");\n            i0.ɵɵtext(7, \"Search any product\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"mat-grid-list\", 4);\n            i0.ɵɵtemplate(9, HomeComponent_mat_grid_tile_9_Template, 20, 4, \"mat-grid-tile\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(10, HomeComponent_div_10_Template, 3, 0, \"div\", 6);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngForOf\", ctx.productDetails);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showLoadButton);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i5.MatButton, i6.MatFormField, i6.MatLabel, i6.MatHint, i7.MatInput, i8.MatGridList, i8.MatGridTile],\n        styles: [\"mat-grid-tile[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:5px}.image-container[_ngcontent-%COMP%]{position:relative;height:300px}.home-page-product-image[_ngcontent-%COMP%]{max-width:90%;max-height:90%;position:absolute;inset:0;margin:auto}\"]\n      });\n    }\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}